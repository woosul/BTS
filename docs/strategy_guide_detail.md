# BTS 전략 가이드 - 상세편

> 투자 초보자를 위한 종합 전략 학습 가이드

## 📚 목차

1. [기초 개념](#기초-개념)
2. [기술적 지표 완전 가이드](#기술적-지표-완전-가이드)
3. [종목선정 전략 심화](#종목선정-전략-심화)
4. [매수 전략 심화](#매수-전략-심화)
5. [포트폴리오 전략 심화](#포트폴리오-전략-심화)
6. [매도 전략 심화](#매도-전략-심화)
7. [실전 적용 가이드](#실전-적용-가이드)

---

## 기초 개념

### 캔들(Candle)이란?

캔들은 특정 시간 동안의 가격 변동을 시각화한 것입니다.

```
   고가(High)
      │
   ┌──┴──┐
   │     │  ← 몸통(Body)
   │     │    시가 < 종가: 상승(양봉)
   └──┬──┘    시가 > 종가: 하락(음봉)
      │
   저가(Low)
```

**구성 요소**:
- **시가(Open)**: 시작 가격
- **고가(High)**: 최고 가격
- **저가(Low)**: 최저 가격
- **종가(Close)**: 마감 가격
- **거래량(Volume)**: 거래된 수량

**시간 프레임**:
- 1분봉: 1분 동안의 가격
- 5분봉: 5분 동안의 가격
- 1시간봉: 1시간 동안의 가격
- 1일봉: 하루 동안의 가격

### OHLCV 데이터

모든 기술적 분석의 기초 데이터:

```python
OHLCV = {
    "timestamp": "2025-01-10 09:00:00",
    "open": 85000000,      # 시가
    "high": 86000000,      # 고가
    "low": 84500000,       # 저가
    "close": 85500000,     # 종가
    "volume": 123.45       # 거래량
}
```

### 추세(Trend)의 이해

**상승 추세**:
- 고점과 저점이 계속 높아짐
- 매수 타이밍 찾기

**하락 추세**:
- 고점과 저점이 계속 낮아짐
- 매도 또는 관망

**횡보(Sideways)**:
- 일정 범위 내 등락
- 돌파 방향 주목

### 지지선과 저항선

**지지선(Support)**:
- 가격이 더 이상 하락하지 않는 선
- 매수 심리가 강한 가격대
- 돌파 시 추가 하락 가능

**저항선(Resistance)**:
- 가격이 더 이상 상승하지 않는 선
- 매도 심리가 강한 가격대
- 돌파 시 추가 상승 가능

---

## 기술적 지표 완전 가이드

### 1. RSI (Relative Strength Index)

#### 📖 개념

RSI는 **상대강도지수**로, 가격의 상승 압력과 하락 압력을 비교하여 과매수/과매도 상태를 판단하는 지표입니다.

**개발자**: J. Welles Wilder (1978년)

#### 🧮 계산 방법

**Step 1: 가격 변화 계산**
```
상승폭(U) = max(현재가 - 전일가, 0)
하락폭(D) = max(전일가 - 현재가, 0)
```

**Step 2: 평균 상승/하락폭 계산**
```
AU (Average Up) = 최근 N일 상승폭의 평균
AD (Average Down) = 최근 N일 하락폭의 평균
```

**Step 3: RSI 계산**
```
RS = AU / AD
RSI = 100 - (100 / (1 + RS))
```

**예시 계산 (14일 기준)**:

| 날짜 | 종가 | 변화 | 상승(U) | 하락(D) |
|------|------|------|---------|---------|
| 1일 | 85,000,000 | - | - | - |
| 2일 | 86,000,000 | +1,000,000 | 1,000,000 | 0 |
| 3일 | 85,500,000 | -500,000 | 0 | 500,000 |
| ... | ... | ... | ... | ... |
| 14일 | 88,000,000 | +1,500,000 | 1,500,000 | 0 |

```
AU = (1,000,000 + 0 + ... + 1,500,000) / 14 = 750,000
AD = (0 + 500,000 + ... + 0) / 14 = 250,000
RS = 750,000 / 250,000 = 3
RSI = 100 - (100 / (1 + 3)) = 100 - 25 = 75
```

#### 📊 해석 방법

**RSI 값의 의미**:

| RSI 범위 | 의미 | 해석 |
|----------|------|------|
| 70-100 | 과매수 | 상승 과열, 조정 가능성 |
| 50-70 | 상승 강세 | 건강한 상승 |
| 30-50 | 하락 약세 | 약세 지속 |
| 0-30 | 과매도 | 하락 과열, 반등 가능성 |

**실전 예시**:

```python
# BTC 현재가: 85,000,000원
# RSI(14) = 28

해석:
- RSI 28 → 과매도 구간
- 매수 신호 발생
- 확신도: 약 70% (RSI가 30에 근접할수록 강함)

주의사항:
- 강한 하락 추세에서는 RSI가 20 이하로 장기간 유지될 수 있음
- 다른 지표와 함께 확인 필요
```

#### 🎯 실전 전략

**전략 1: 기본 역추세 전략**
```python
if RSI < 30:
    신호 = "매수"
    확신도 = (30 - RSI) / 30 * 100
    # RSI 20 → 확신도 33%
    # RSI 10 → 확신도 67%

elif RSI > 70:
    신호 = "매도 대기"
    확신도 = (RSI - 70) / 30 * 100
```

**전략 2: 다이버전스 (Divergence)**

*강세 다이버전스*:
- 가격: 저점이 낮아짐
- RSI: 저점이 높아짐
- 의미: 하락 약화, 반등 신호

*약세 다이버전스*:
- 가격: 고점이 높아짐
- RSI: 고점이 낮아짐
- 의미: 상승 약화, 하락 신호

**전략 3: 중심선 돌파**
```python
if 이전 RSI < 50 and 현재 RSI > 50:
    신호 = "매수 (상승 추세 전환)"

elif 이전 RSI > 50 and 현재 RSI < 50:
    신호 = "매도 (하락 추세 전환)"
```

#### ⚙️ 파라미터 최적화

**Period (기간)**:

| Period | 특징 | 적합한 투자 스타일 |
|--------|------|-------------------|
| 9 | 매우 민감, 신호 많음 | 단타 |
| 14 | 표준, 균형 | 스윙 |
| 21 | 안정적, 신호 적음 | 중장기 |

**과매수/과매도 기준**:

| 시장 상황 | 과매도 | 과매수 |
|-----------|--------|--------|
| 강세장 | 40 | 80 |
| 보통 | 30 | 70 |
| 약세장 | 20 | 60 |

#### ⚠️ 주의사항

1. **추세 시장에서 한계**
   - 강한 상승: RSI 70+ 장기간 유지
   - 강한 하락: RSI 30- 장기간 유지
   - 해결: 추세 지표와 병행

2. **시간 프레임 일치**
   - 1일봉 RSI는 1일봉 전략에만 사용
   - 여러 시간 프레임 혼용 금지

3. **단독 사용 지양**
   - 다른 지표와 조합 권장
   - 거래량, 이동평균 등 확인

---

### 2. 이동평균 (Moving Average)

#### 📖 개념

이동평균은 일정 기간의 **평균 가격**을 계산하여 가격의 전반적인 추세를 파악하는 지표입니다.

**목적**:
- 단기 변동성 제거
- 추세 방향 확인
- 지지/저항선 역할

#### 🧮 계산 방법

**SMA (Simple Moving Average, 단순 이동평균)**:

```
SMA = (P1 + P2 + ... + Pn) / n

P: 종가
n: 기간
```

**예시 (5일 SMA)**:
```
날짜    종가           SMA(5)
1일    84,000,000      -
2일    85,000,000      -
3일    86,000,000      -
4일    85,500,000      -
5일    87,000,000      85,500,000  ← (84M+85M+86M+85.5M+87M)/5
6일    88,000,000      86,300,000  ← (85M+86M+85.5M+87M+88M)/5
```

**EMA (Exponential Moving Average, 지수 이동평균)**:

```
EMA_오늘 = (종가_오늘 × 가중치) + (EMA_어제 × (1 - 가중치))

가중치 = 2 / (기간 + 1)
```

**예시 (5일 EMA)**:
```
가중치 = 2 / (5 + 1) = 0.333

날짜    종가           EMA(5)
1-5일   -              85,500,000  ← 첫 EMA는 SMA와 동일
6일    88,000,000      86,333,333  ← 88M×0.333 + 85.5M×0.667
```

**SMA vs EMA**:

| 구분 | SMA | EMA |
|------|-----|-----|
| 가중치 | 동일 | 최근 데이터에 높음 |
| 반응 속도 | 느림 | 빠름 |
| 안정성 | 높음 | 낮음 (노이즈) |
| 추세 추종 | 늦음 | 빠름 |
| 사용 | 장기 추세 | 단기 추세 |

#### 📊 해석 방법

**1. 가격과 MA 위치**:

```
가격 > MA → 상승 추세
가격 < MA → 하락 추세
가격 = MA → 추세 전환 가능
```

**2. MA의 기울기**:

```
MA 상승 → 상승 추세
MA 하락 → 하락 추세
MA 횡보 → 추세 없음 (박스권)
```

**3. 정배열 vs 역배열**:

*정배열 (상승 추세)*:
```
가격 > 단기MA > 중기MA > 장기MA
예: 현재가 > MA(20) > MA(60) > MA(120)
```

*역배열 (하락 추세)*:
```
가격 < 단기MA < 중기MA < 장기MA
```

#### 🎯 실전 전략

**전략 1: 골든 크로스 / 데드 크로스**

*골든 크로스 (Golden Cross)*:
```python
if 단기MA > 장기MA and 이전_단기MA <= 이전_장기MA:
    신호 = "매수"
    확신도 = 70-80%

# 예시
MA(20) = 85,000,000
MA(60) = 84,000,000
→ MA(20)이 MA(60)을 상향 돌파 → 매수
```

*데드 크로스 (Death Cross)*:
```python
if 단기MA < 장기MA and 이전_단기MA >= 이전_장기MA:
    신호 = "매도"
    확신도 = 70-80%
```

**전략 2: 가격과 MA 크로스**

```python
if 가격 > MA and 이전_가격 <= 이전_MA:
    신호 = "매수"  # 지지선 돌파

elif 가격 < MA and 이전_가격 >= 이전_MA:
    신호 = "매도"  # 저항선 이탈
```

**전략 3: 다중 MA 시스템**

```python
# 3중 크로스 시스템
MA_5 = 단기
MA_20 = 중기
MA_60 = 장기

if MA_5 > MA_20 > MA_60:
    상태 = "강한 상승"
    신호 = "매수 유지"

elif MA_5 < MA_20 < MA_60:
    상태 = "강한 하락"
    신호 = "매도 또는 관망"
```

**전략 4: MA를 지지/저항선으로 활용**

```python
# MA(20)을 동적 지지/저항으로 사용

if 상승추세 and 가격이_MA에_근접:
    신호 = "매수 (지지선 터치)"

elif 하락추세 and 가격이_MA에_근접:
    신호 = "매도 (저항선 터치)"
```

#### ⚙️ 파라미터 최적화

**기간 선택**:

| 기간 | 유형 | 용도 | 시간프레임 |
|------|------|------|-----------|
| 5-10 | 초단기 | 단타, 스캘핑 | 1분-5분봉 |
| 20-30 | 단기 | 스윙 트레이딩 | 1시간-4시간봉 |
| 50-60 | 중기 | 포지션 트레이딩 | 일봉 |
| 100-200 | 장기 | 추세 확인 | 일봉-주봉 |

**조합 패턴**:

| 조합 | 목적 | 신호 |
|------|------|------|
| (5, 20) | 단기 추세 | 빠른 진입/청산 |
| (20, 60) | 중기 추세 | 스윙 트레이딩 |
| (50, 200) | 장기 추세 | 주요 추세 전환 |
| (5, 20, 60) | 다중 확인 | 높은 확신도 |

#### 📈 실전 예시

**예시 1: 골든 크로스 매수**

```
BTC/KRW 일봉

1월 1일:  MA(20) = 84,500,000, MA(60) = 85,000,000
1월 2일:  MA(20) = 84,800,000, MA(60) = 84,900,000
1월 3일:  MA(20) = 85,100,000, MA(60) = 84,800,000  ← 골든 크로스!

판단:
- MA(20)이 MA(60)을 상향 돌파
- 매수 신호
- 확신도: 75%
- 목표가: 현재가 + 5%
- 손절가: MA(20) 하향 이탈
```

**예시 2: 정배열 확인**

```
현재가: 88,000,000
MA(20): 87,000,000
MA(60): 85,000,000
MA(120): 83,000,000

분석:
- 완전한 정배열 → 강한 상승 추세
- 신호: 매수 유지 또는 추가 매수
- 주의: MA(20)을 지지선으로 관찰
```

#### ⚠️ 주의사항

1. **후행 지표**
   - MA는 과거 데이터 기반
   - 추세 전환 감지가 늦음
   - 빠른 시장에서 손실 가능

2. **횡보장 약점**
   - 박스권에서 잦은 거짓 신호
   - 골든/데드 크로스 반복
   - 해결: 횡보 필터 추가

3. **최적 기간 찾기**
   - 시장마다 다름
   - 백테스팅으로 검증
   - 과최적화 주의

---

### 3. MACD (Moving Average Convergence Divergence)

#### 📖 개념

MACD는 두 개의 지수이동평균(EMA) 간의 **수렴과 발산**을 이용하여 매매 타이밍을 포착하는 지표입니다.

**구성 요소**:
1. **MACD Line**: 단기EMA - 장기EMA
2. **Signal Line**: MACD의 이동평균
3. **Histogram**: MACD - Signal

**개발자**: Gerald Appel (1979년)

#### 🧮 계산 방법

**Step 1: MACD Line 계산**
```
MACD = EMA(12) - EMA(26)
```

**Step 2: Signal Line 계산**
```
Signal = MACD의 EMA(9)
```

**Step 3: Histogram 계산**
```
Histogram = MACD - Signal
```

**예시 계산**:

```
날짜    종가        EMA(12)      EMA(26)      MACD        Signal    Histogram
1/1    85,000,000   -            -            -           -         -
...    ...          ...          ...          ...         ...       ...
1/20   88,000,000   87,500,000   86,000,000   1,500,000   -         -
1/21   89,000,000   87,800,000   86,200,000   1,600,000   1,550,000 50,000
1/22   88,500,000   87,900,000   86,300,000   1,600,000   1,575,000 25,000
```

#### 📊 해석 방법

**1. MACD와 Signal 교차**:

```
MACD > Signal → 상승 모멘텀
MACD < Signal → 하락 모멘텀

골든 크로스: MACD가 Signal을 상향 돌파 → 매수
데드 크로스: MACD가 Signal을 하향 돌파 → 매도
```

**2. Histogram 해석**:

```
Histogram > 0 → MACD > Signal (상승세)
Histogram < 0 → MACD < Signal (하락세)

Histogram 증가 → 모멘텀 강화
Histogram 감소 → 모멘텀 약화
```

**3. 0선 교차**:

```
MACD > 0 → EMA(12) > EMA(26) (상승 추세)
MACD < 0 → EMA(12) < EMA(26) (하락 추세)

MACD가 0선 상향 돌파 → 추세 전환 (상승)
MACD가 0선 하향 돌파 → 추세 전환 (하락)
```

#### 🎯 실전 전략

**전략 1: 골든/데드 크로스 (가장 기본)**

```python
if MACD > Signal and 이전_MACD <= 이전_Signal:
    신호 = "매수"
    확신도 = 70%
    설명 = "MACD 골든 크로스"

elif MACD < Signal and 이전_MACD >= 이전_Signal:
    신호 = "매도"
    확신도 = 70%
    설명 = "MACD 데드 크로스"
```

**전략 2: Histogram 반전**

```python
if Histogram > 0 and 이전_Histogram <= 0:
    신호 = "매수"
    확신도 = 75%
    설명 = "Histogram 양수 전환 (빠른 신호)"

elif Histogram < 0 and 이전_Histogram >= 0:
    신호 = "매도"
    확신도 = 75%
    설명 = "Histogram 음수 전환"
```

**전략 3: 0선 교차**

```python
if MACD > 0 and 이전_MACD <= 0:
    신호 = "강한 매수"
    확신도 = 80%
    설명 = "추세 전환 (하락→상승)"

elif MACD < 0 and 이전_MACD >= 0:
    신호 = "강한 매도"
    확신도 = 80%
    설명 = "추세 전환 (상승→하락)"
```

**전략 4: 다이버전스 (고급)**

*강세 다이버전스*:
```
조건:
1. 가격: 저점이 낮아짐
2. MACD: 저점이 높아짐

의미: 하락 모멘텀 약화 → 반등 가능
신호: 매수 준비
```

*약세 다이버전스*:
```
조건:
1. 가격: 고점이 높아짐
2. MACD: 고점이 낮아짐

의미: 상승 모멘텀 약화 → 조정 가능
신호: 매도 또는 익절
```

**전략 5: 복합 신호 (높은 확신도)**

```python
# 모든 조건 만족 시 강한 매수
if (MACD > Signal and          # 골든 크로스
    Histogram > 0 and          # Histogram 양수
    MACD > 0):                 # 0선 위
    신호 = "강한 매수"
    확신도 = 90%

# 모든 조건 만족 시 강한 매도
elif (MACD < Signal and        # 데드 크로스
      Histogram < 0 and        # Histogram 음수
      MACD < 0):               # 0선 아래
    신호 = "강한 매도"
    확신도 = 90%
```

#### ⚙️ 파라미터 최적화

**표준 파라미터 (12, 26, 9)**:
- 가장 널리 사용
- 월간 트레이딩 일수 기반
- 일봉에 최적화

**단기 민감 (6, 13, 5)**:
```
장점: 빠른 신호
단점: 거짓 신호 많음
용도: 단타, 스캘핑
시간프레임: 1분-15분봉
```

**장기 안정 (19, 39, 9)**:
```
장점: 신뢰도 높은 신호
단점: 늦은 진입
용도: 스윙, 포지션
시간프레임: 일봉-주봉
```

**시장별 최적화**:

| 시장 | Fast | Slow | Signal |
|------|------|------|--------|
| 변동성 높음 | 8 | 17 | 9 |
| 표준 | 12 | 26 | 9 |
| 변동성 낮음 | 19 | 39 | 9 |

#### 📈 실전 예시

**예시 1: 골든 크로스 매수**

```
BTC/KRW 1시간봉

시간     MACD        Signal      Histogram   판단
09:00   -150,000    -100,000    -50,000     대기
10:00   -50,000     -80,000     30,000      Histogram 양전환
11:00   20,000      -40,000     60,000      대기
12:00   80,000      10,000      70,000      골든 크로스! ← 매수

매수 근거:
1. MACD가 Signal 상향 돌파
2. Histogram 지속 증가
3. MACD가 곧 0선 돌파 예상

진입: 12:00 시점 시장가
목표: +3% (단기 스윙)
손절: MACD 데드 크로스
```

**예시 2: 강세 다이버전스**

```
BTC/KRW 일봉

날짜     종가        MACD        관찰
1/10    84,000,000   -500,000    저점1
1/11    83,000,000   -600,000
1/12    82,500,000   -550,000
1/13    82,000,000   -400,000    저점2 (가격은 더 낮지만 MACD는 더 높음!)

분석:
- 가격 저점: 84M → 82M (하락)
- MACD 저점: -500K → -400K (상승)
- 강세 다이버전스 발생!

신호: 반등 가능성 높음
전략: MACD 골든 크로스 대기 후 매수
확신도: 80%
```

#### ⚠️ 주의사항

1. **후행 지표**
   - 이동평균 기반 → 늦은 신호
   - 빠른 변화에 대응 어려움
   - 해결: Histogram으로 선행 판단

2. **횡보장 약점**
   - 잦은 크로스 발생
   - 거짓 신호 다수
   - 해결: ADX 등 추세 필터 사용

3. **시간 프레임 일관성**
   - 일봉 MACD → 일봉 거래에만
   - 여러 프레임 혼용 금지
   - 해결: 주 시간 프레임 결정

4. **단독 사용 지양**
   - RSI, 볼린저밴드 등과 조합
   - 거래량 확인 필수
   - 추세 방향성 확인

---

### 4. 볼린저 밴드 (Bollinger Bands)

#### 📖 개념

볼린저 밴드는 **가격 변동성**을 기반으로 상단 밴드와 하단 밴드를 그려 가격이 과매수/과매도 상태인지 판단하는 지표입니다.

**핵심 아이디어**:
- 가격은 통계적으로 평균 주변에서 움직임
- 변동성이 클 때 밴드 폭 확대
- 변동성이 작을 때 밴드 폭 축소

**개발자**: John Bollinger (1980년대)

#### 🧮 계산 방법

**구성 요소**:
1. **중심선 (Middle Band)**: N일 이동평균
2. **상단 밴드 (Upper Band)**: 중심선 + (표준편차 × k)
3. **하단 밴드 (Lower Band)**: 중심선 - (표준편차 × k)

**계산 공식**:

```
중심선 = SMA(20)

표준편차 = sqrt(Σ(종가 - SMA)² / 20)

상단밴드 = SMA(20) + (표준편차 × 2)
하단밴드 = SMA(20) - (표준편차 × 2)
```

**예시 계산 (20일, 2σ)**:

```
최근 20일 종가: 84M, 85M, 86M, ..., 88M

Step 1: 중심선 계산
SMA(20) = (84M + 85M + ... + 88M) / 20 = 86,000,000

Step 2: 표준편차 계산
편차들: (84M-86M)², (85M-86M)², ..., (88M-86M)²
분산 = Σ편차² / 20 = 4,000,000²
표준편차 = sqrt(분산) = 2,000,000

Step 3: 밴드 계산
상단밴드 = 86M + (2M × 2) = 90,000,000
하단밴드 = 86M - (2M × 2) = 82,000,000

결과:
상단: 90,000,000
중심: 86,000,000
하단: 82,000,000
현재가: 87,000,000 → 중심~상단 사이 (정상 범위)
```

#### 📊 해석 방법

**1. 밴드 폭 (Band Width)**:

```
밴드 폭 = (상단밴드 - 하단밴드) / 중심선 × 100

폭 확대 (Expansion):
- 변동성 증가
- 큰 움직임 예상
- 추세 발생 가능

폭 축소 (Squeeze):
- 변동성 감소
- 횡보 구간
- 곧 큰 움직임 준비
```

**2. 가격과 밴드 위치**:

```
가격 > 상단밴드: 과매수, 조정 가능
가격 = 상단밴드: 강한 상승, 추세 지속 또는 반전
가격 = 중심선: 평균 회귀
가격 = 하단밴드: 강한 하락, 추세 지속 또는 반등
가격 < 하단밴드: 과매도, 반등 가능
```

**3. %B 지표**:

```
%B = (현재가 - 하단밴드) / (상단밴드 - 하단밴드)

%B > 1.0: 상단밴드 위 (과매수)
%B = 0.5: 중심선 (중립)
%B < 0.0: 하단밴드 아래 (과매도)
```

#### 🎯 실전 전략

**전략 1: 밴드 터치 역추세**

```python
if 현재가 <= 하단밴드:
    신호 = "매수"
    확신도 = 65%
    설명 = "하단밴드 터치 (과매도)"

    # 추가 확인
    if 거래량 > 평균거래량:
        확신도 = 75%  # 거래량 동반 시 신뢰도 상승

elif 현재가 >= 상단밴드:
    신호 = "매도 고려"
    확신도 = 65%
    설명 = "상단밴드 터치 (과매수)"
```

**전략 2: 밴드 돌파 추세 추종**

```python
# 상단 돌파
if (현재가 > 상단밴드 and
    이전가 <= 이전_상단밴드 and
    거래량 > 평균거래량 * 1.5):
    신호 = "강한 매수"
    확신도 = 80%
    설명 = "상단밴드 돌파 (강한 상승 추세 시작)"

# 하단 이탈
elif (현재가 < 하단밴드 and
      이전가 >= 이전_하단밴드 and
      거래량 > 평균거래량 * 1.5):
    신호 = "강한 매도"
    확신도 = 80%
    설명 = "하단밴드 이탈 (강한 하락 추세 시작)"
```

**전략 3: 스퀴즈 (Squeeze) 돌파**

```python
# 스퀴즈 감지
밴드폭 = (상단밴드 - 하단밴드) / 중심선
밴드폭_20일평균 = 최근_20일_밴드폭의_평균

if 밴드폭 < 밴드폭_20일평균 * 0.5:
    상태 = "스퀴즈 (변동성 압축)"

    # 돌파 대기
    if 현재가 > 상단밴드:
        신호 = "매수"
        확신도 = 85%
        설명 = "스퀴즈 후 상향 돌파 (큰 상승 기대)"

    elif 현재가 < 하단밴드:
        신호 = "매도"
        확신도 = 85%
        설명 = "스퀴즈 후 하향 이탈 (큰 하락 기대)"
```

**전략 4: 중심선 반등/저항**

```python
# 상승 추세에서 중심선 지지
if (추세 == "상승" and
    현재가 근접 중심선 and
    현재가 > 중심선):
    신호 = "매수"
    확신도 = 70%
    설명 = "상승 추세 중 중심선 지지"

# 하락 추세에서 중심선 저항
elif (추세 == "하락" and
      현재가 근접 중심선 and
      현재가 < 중심선):
    신호 = "매도"
    확신도 = 70%
    설명 = "하락 추세 중 중심선 저항"
```

**전략 5: 더블 보텀/더블 탑 (고급)**

```python
# 더블 보텀 (W 패턴)
if (저점1 근처_하단밴드 and
    저점2 근처_하단밴드 and
    저점2 > 저점1 and           # 2번째 저점이 더 높음
    RSI_저점2 > RSI_저점1):     # RSI도 더 높음 (다이버전스)
    신호 = "강한 매수"
    확신도 = 85%
    설명 = "볼린저 더블 보텀 + 다이버전스"

# 더블 탑 (M 패턴)
elif (고점1 근처_상단밴드 and
      고점2 근처_상단밴드 and
      고점2 < 고점1 and         # 2번째 고점이 더 낮음
      RSI_고점2 < RSI_고점1):   # RSI도 더 낮음
    신호 = "강한 매도"
    확신도 = 85%
    설명 = "볼린저 더블 탑 + 다이버전스"
```

#### ⚙️ 파라미터 최적화

**기간 (Period)**:

| 기간 | 특징 | 용도 |
|------|------|------|
| 10 | 매우 민감, 밴드 좁음 | 단타 |
| 20 | 표준, 균형 | 스윙 (권장) |
| 50 | 안정적, 밴드 넓음 | 중장기 |

**표준편차 배수 (k)**:

| 배수 | 특징 | 신호 빈도 |
|------|------|----------|
| 1.5 | 좁은 밴드 | 신호 많음, 거짓 신호 많음 |
| 2.0 | 표준 (권장) | 균형 |
| 2.5 | 넓은 밴드 | 신호 적음, 신뢰도 높음 |

**통계적 의미 (2σ 기준)**:
```
95.4%의 가격이 밴드 내에 위치
밴드 이탈 = 통계적으로 이상 → 회귀 가능성
```

#### 📈 실전 예시

**예시 1: 하단밴드 터치 매수**

```
BTC/KRW 일봉 (20, 2σ)

날짜    종가        중심선      하단밴드    상단밴드    %B      판단
1/10   86,000,000   86,500,000  82,000,000  91,000,000  0.44    중립
1/11   84,500,000   86,000,000  81,500,000  90,500,000  0.33    하락
1/12   82,000,000   85,500,000  81,000,000  90,000,000  0.11    하단 근접
1/13   81,500,000   85,000,000  80,500,000  89,500,000  0.11    하단 터치! ← 매수

매수 근거:
1. %B = 0.11 (거의 하단)
2. 과매도 상태
3. 통계적으로 반등 가능성

진입: 81,500,000 (시장가 또는 지정가)
목표: 중심선 (85,000,000) = +4.3%
손절: 하단밴드 이탈 (80,000,000) = -1.8%
```

**예시 2: 스퀴즈 후 돌파**

```
BTC/KRW 일봉

날짜    밴드폭      상태        현재가      상단밴드    판단
1/1    10.5%       정상        85,000,000   90,000,000  관망
1/5    8.2%        축소        86,000,000   89,500,000  관망
1/10   5.1%        스퀴즈!     86,500,000   88,500,000  주목
1/11   4.8%        스퀴즈 지속  87,000,000   88,800,000  대기
1/12   6.2%        확장 시작    89,500,000   90,000,000  돌파! ← 매수

매수 근거:
1. 밴드폭 5% 이하 → 스퀴즈
2. 상단밴드 돌파 → 상승 방향 결정
3. 밴드폭 확장 시작 → 큰 움직임 예상

진입: 89,500,000
목표: +10% (큰 변동성 예상)
손절: 중심선 이탈 (약 87,000,000)
```

#### ⚠️ 주의사항

1. **추세 시장에서 주의**
   ```
   강한 상승: 상단밴드 따라 계속 상승 가능
   강한 하락: 하단밴드 따라 계속 하락 가능

   해결: 추세 필터 추가 (MA, ADX 등)
   ```

2. **횡보장에 최적화**
   ```
   횡보장: 밴드 터치 전략 효과적
   추세장: 밴드 돌파 전략 사용

   시장 구분 필수!
   ```

3. **단독 사용 위험**
   ```
   볼린저밴드만으로는 불충분
   RSI, MACD, 거래량 등과 조합
   ```

4. **시간 프레임 선택**
   ```
   단기: 밴드 좁고 신호 많음 (노이즈)
   장기: 밴드 넓고 신호 적음 (신뢰도)

   자신의 투자 스타일에 맞는 프레임 선택
   ```

---

## 종목선정 전략 심화

### 모멘텀 스크리닝 완벽 가이드

#### 📖 개념

모멘텀은 **가격 움직임의 속도와 힘**을 의미합니다. 강한 상승 모멘텀을 가진 종목은 계속 상승할 가능성이 높다는 원리를 활용합니다.

**뉴턴의 관성 법칙과 유사**:
```
움직이는 물체는 계속 움직이려는 성질
→ 상승하는 종목은 계속 상승하려는 성질
```

#### 🧮 점수 계산 방법

**BTS 모멘텀 스크리닝 알고리즘**:

```python
# 1. 가격 모멘텀 점수
price_change_1d = (현재가 - 1일전가) / 1일전가 * 100
price_change_7d = (현재가 - 7일전가) / 7일전가 * 100
price_change_30d = (현재가 - 30일전가) / 30일전가 * 100

price_score = (
    price_change_1d * 0.3 +
    price_change_7d * 0.5 +
    price_change_30d * 0.2
)

# 2. 거래량 모멘텀 점수
volume_ratio = 현재_거래량 / 평균_거래량_20일
volume_change_7d = (현재_거래량 - 7일평균_거래량) / 7일평균_거래량 * 100

volume_score = (
    (volume_ratio - 1) * 50 +  # 평균 대비 증가율
    volume_change_7d * 0.5
)

# 3. RSI 모멘텀 점수
rsi_momentum = RSI - 50  # 중립선(50) 대비 위치
rsi_change = RSI - RSI_7일전  # RSI 증가율

rsi_score = (
    rsi_momentum * 0.6 +
    rsi_change * 0.4
)

# 4. 최종 점수
final_score = (
    price_score * 0.4 +
    volume_score * 0.3 +
    rsi_score * 0.3
)
```

#### 📊 점수별 의미

| 점수 범위 | 등급 | 의미 | 투자 전략 |
|-----------|------|------|----------|
| 80-100 | S | 매우 강한 모멘텀 | 적극 매수, 단기 급등 가능 |
| 60-80 | A | 강한 모멘텀 | 매수, 상승 지속 예상 |
| 40-60 | B | 보통 모멘텀 | 관찰, 추가 확인 필요 |
| 20-40 | C | 약한 모멘텀 | 보류, 다른 종목 우선 |
| 0-20 | D | 매우 약한 모멘텀 | 제외 |

#### 🎯 실전 예시

**예시: KRW 시장 상위 10개 스크리닝**

```
실행 시간: 2025-01-15 14:00

[스크리닝 결과]

순위  종목       최종점수  가격점수  거래량점수  RSI점수  7일변화
1    KRW-SOL    87.5     +15.2%    +180%      68.2    +8.5%
2    KRW-AVAX   82.3     +12.8%    +150%      65.1    +6.2%
3    KRW-MATIC  78.1     +10.5%    +95%       62.4    +4.8%
4    KRW-LINK   74.6     +8.2%     +120%      59.3    +3.5%
5    KRW-DOT    71.2     +7.1%     +80%       58.1    +2.9%
...

[상세 분석 - 1위 KRW-SOL]

가격 모멘텀:
- 1일: +2.5%
- 7일: +15.2%  ← 주요 상승
- 30일: +8.1%
→ 최근 강한 상승세

거래량 모멘텀:
- 현재 거래량: 평균의 2.8배
- 7일 증가율: +180%
→ 관심 급증

RSI 모멘텀:
- 현재 RSI: 68.2 (과매수 근접하지만 아직 여유)
- 7일 변화: +8.5
→ 상승 모멘텀 강함

투자 판단:
- 등급: S (매우 강한 모멘텀)
- 전략: 적극 매수 고려
- 주의: RSI 70 근접 → 단기 조정 가능성 모니터링
- 목표: 단기 +10-15%
```

#### ⚙️ 가중치 튜닝 전략

**보수적 투자자**:
```python
weights = {
    "price": 0.3,      # 가격보다는
    "volume": 0.2,     # 안정성 중시
    "rsi": 0.2,
    "volatility": 0.3  # 낮은 변동성 선호
}
```

**공격적 투자자**:
```python
weights = {
    "price": 0.5,      # 가격 상승률 최우선
    "volume": 0.3,     # 거래량 증가
    "rsi": 0.2
}
```

**균형 투자자**:
```python
weights = {
    "price": 0.4,
    "volume": 0.3,
    "rsi": 0.3
}
```

#### 📈 활용 팁

**1. 시장 상황별 활용**:

```
상승장:
- lookback = 7일 (단기 모멘텀)
- top_n = 5-10개
- 가중치: price 중심

하락장:
- lookback = 30일 (장기 안정성)
- top_n = 3-5개
- 가중치: volume, rsi 중심

횡보장:
- 스크리닝 효과 낮음
- 다른 전략 우선 고려
```

**2. 재스크리닝 주기**:

```
단타: 매일 또는 2일마다
스윙: 주 2-3회
중장기: 주 1회
```

**3. 포트폴리오 구성**:

```
상위 1-3위: 40-50% 배분
상위 4-7위: 30-40% 배분
상위 8-10위: 10-20% 배분
현금: 10-20% 유지
```

---

## 매수 전략 심화

### RSI 전략 완벽 마스터

#### 🎓 초보자를 위한 RSI 완전 정복

**Step 1: RSI 값 이해하기**

```
RSI 값을 사람의 기분으로 비유:

RSI 90: 극도로 흥분 (곧 지침)
RSI 70: 매우 신남 (과열)
RSI 50: 평온 (중립)
RSI 30: 우울함 (침체)
RSI 10: 극도로 우울 (곧 회복)

주식도 마찬가지:
과열되면 → 식어야 함 (하락)
침체되면 → 회복해야 함 (상승)
```

**Step 2: 기본 매매 규칙**

```python
# 규칙 1: 과매도 매수
if RSI < 30:
    print("매수 고려")
    print("이유: 너무 많이 팔렸음 → 곧 반등 가능")

# 규칙 2: 과매수 매도
elif RSI > 70:
    print("매도 고려 또는 신규 매수 자제")
    print("이유: 너무 많이 샀음 → 곧 조정 가능")

# 규칙 3: 중립 대기
else:
    print("관망")
    print("이유: 명확한 신호 없음")
```

**Step 3: 실전 적용 예시**

```
[시나리오 1: 과매도 반등]

날짜      종가        RSI    판단
1/1      90,000,000   65    관망
1/5      85,000,000   45    하락세
1/10     82,000,000   28    과매도! ← 매수 기회
1/11     83,500,000   35    반등 시작
1/15     88,000,000   58    +7.3% 수익

배운 점:
- RSI < 30에서 매수 → 성공
- 인내심 필요 (즉시 반등 아닐 수도)
```

#### 🎯 고급 RSI 전략

**전략 1: RSI 다이버전스 (고수 기법)**

```
강세 다이버전스 (반등 신호):

가격 차트:    ↘️  ↘️   (저점이 낮아짐)
RSI 차트:     ↗️  ↗️   (저점이 높아짐)

의미: 하락 약화 → 반등 임박

실전 예시:
날짜   종가        RSI     분석
1/1   85,000,000   35     저점1
1/10  82,000,000   40     저점2 (가격↓, RSI↑)

판단: 강세 다이버전스 발생!
전략: RSI 50 돌파 시 매수
확신도: 80%
```

**전략 2: RSI 50선 돌파**

```python
# 추세 전환 포착
if 이전_RSI < 50 and 현재_RSI > 50:
    신호 = "매수 (상승 전환)"
    의미 = "하락세→상승세 전환"
    확신도 = 75%

elif 이전_RSI > 50 and 현재_RSI < 50:
    신호 = "매도 (하락 전환)"
    의미 = "상승세→하락세 전환"
    확신도 = 75%
```

**전략 3: RSI + 거래량 조합**

```python
if RSI < 30 and 거래량 > 평균거래량 * 2:
    신호 = "강한 매수"
    의미 = "대량 거래를 동반한 과매도"
    확신도 = 85%
    설명 = """
    거래량이 많다는 것은 많은 투자자가 참여
    → 과매도에서의 대량 거래 = 바닥 다지기
    → 반등 신뢰도 높음
    """
```

#### 📊 시장별 RSI 기준

**변동성 높은 코인 (알트코인)**:
```
과매도: RSI < 25
과매수: RSI > 75

이유: 변동성이 크므로 극단값 자주 발생
```

**변동성 낮은 코인 (BTC, ETH)**:
```
과매도: RSI < 30
과매수: RSI > 70

이유: 안정적이므로 표준 기준 적용
```

**상승장**:
```
과매도: RSI < 40  (높게 설정)
과매수: RSI > 80  (높게 설정)

이유: 전반적으로 RSI 값이 높게 유지됨
```

**하락장**:
```
과매도: RSI < 20  (낮게 설정)
과매수: RSI > 60  (낮게 설정)

이유: 전반적으로 RSI 값이 낮게 유지됨
```

#### ⚠️ 초보자 주의사항

**실수 1: RSI만 보고 매매**
```
❌ 잘못된 예:
RSI 25 → 무조건 매수!

✅ 올바른 예:
RSI 25 + 거래량 확인 + 차트 패턴 확인 + 뉴스 확인
→ 모두 긍정적이면 매수
```

**실수 2: 과매수에서 즉시 매도**
```
❌ 잘못된 예:
RSI 75 → 즉시 매도!

✅ 올바른 예:
RSI 75 → 상승 추세 확인
- 강한 상승: 보유 유지 (RSI 80-90까지 가능)
- 약한 상승: 일부 매도 고려
```

**실수 3: 단일 시간 프레임만 확인**
```
❌ 잘못된 예:
1시간봉 RSI만 확인

✅ 올바른 예:
- 일봉 RSI: 큰 추세
- 4시간봉 RSI: 중기 추세
- 1시간봉 RSI: 단기 타이밍
→ 모두 일치할 때 확신도 최고
```

---

## 포트폴리오 전략 심화

### 켈리 기준 (Kelly Criterion) 완벽 가이드

#### 📖 개념

켈리 기준은 **수학적으로 증명된 최적 배팅 크기**를 계산하는 공식입니다.

**역사**:
- 1956년 John Kelly가 개발
- 원래는 통신 이론용
- 도박, 투자에 응용

**핵심 질문**:
```
"얼마나 베팅해야 장기적으로 자본이 가장 빠르게 증가하는가?"
```

#### 🧮 계산 방법

**기본 공식**:
```
Kelly% = (승률 × 평균수익 - (1-승률) × 평균손실) / 평균수익

또는

Kelly% = (b × p - q) / b

여기서:
p = 승률 (win rate)
q = 패율 (1 - p)
b = 손익비 (평균수익 / 평균손실)
```

**예시 계산**:

```
백테스트 결과:
- 총 거래: 100회
- 승리: 60회 (승률 60%)
- 평균 수익: +10%
- 평균 손실: -5%

Step 1: 변수 계산
p (승률) = 0.60
q (패율) = 0.40
b (손익비) = 10% / 5% = 2.0

Step 2: Kelly% 계산
Kelly% = (2.0 × 0.60 - 0.40) / 2.0
       = (1.20 - 0.40) / 2.0
       = 0.80 / 2.0
       = 0.40 (40%)

결론: 총 자본의 40%를 이 전략에 배팅해야 최적
```

#### 📊 Kelly 배수별 비교

| Kelly 배수 | 배팅 크기 | 특징 | 리스크 |
|-----------|----------|------|--------|
| Full Kelly (1.0) | 40% | 최대 성장 | 변동성 극대 |
| Half Kelly (0.5) | 20% | 균형 | 안정적 (권장) |
| Quarter Kelly (0.25) | 10% | 보수적 | 매우 안정 |

**실전 예시**:

```
총 자본: 10,000,000원
Full Kelly: 40%

배분 시나리오:

[Full Kelly - 40%]
투자: 4,000,000원
결과1 (+10%): +400,000 → 총 10,400,000
결과2 (-5%): -200,000 → 총 9,800,000
변동폭: 600,000원 (6%)

[Half Kelly - 20%]
투자: 2,000,000원
결과1 (+10%): +200,000 → 총 10,200,000
결과2 (-5%): -100,000 → 총 9,900,000
변동폭: 300,000원 (3%)

권장: Half Kelly (변동성 50% 감소)
```

#### 🎯 실전 적용 가이드

**Step 1: 백테스트로 승률/손익비 계산**

```python
# 예시 백테스트 결과
trades = [
    (+8%, +12%, +5%, +15%, +10%),   # 수익 거래 (5회)
    (-3%, -4%, -6%, -2%, -5%)       # 손실 거래 (5회)
]

승리 = 5
총거래 = 10
승률 = 5 / 10 = 0.50

평균수익 = (8 + 12 + 5 + 15 + 10) / 5 = 10%
평균손실 = (3 + 4 + 6 + 2 + 5) / 5 = 4%
손익비 = 10 / 4 = 2.5

Kelly% = (2.5 × 0.50 - 0.50) / 2.5
       = (1.25 - 0.50) / 2.5
       = 0.30 (30%)

Half Kelly = 15%
```

**Step 2: 종목별 배분**

```
총 자본: 10,000,000원
Half Kelly: 15%
투자 금액: 1,500,000원

선정 종목: 3개

방법 1: 균등 배분
- 각 500,000원

방법 2: 스크리닝 점수 비례
- 1위 (점수 90): 600,000원 (40%)
- 2위 (점수 80): 500,000원 (33%)
- 3위 (점수 70): 400,000원 (27%)
```

**Step 3: 리밸런싱**

```
매월 1일 리밸런싱:

현재 포트폴리오:
- KRW-BTC: 700,000원 (상승)
- KRW-ETH: 450,000원 (하락)
- KRW-SOL: 550,000원 (보합)
총: 1,700,000원

목표 (균등):
- 각 566,667원

조정:
- BTC: 700K → 567K (매도 133K)
- ETH: 450K → 567K (매수 117K)
- SOL: 550K → 567K (매수 17K)
```

#### ⚠️ 켈리 기준 주의사항

**1. 과거 데이터 의존**
```
문제: 과거 승률/손익비 ≠ 미래
해결: 보수적 추정, Half Kelly 사용
```

**2. 연속 손실 위험**
```
Full Kelly에서 10연패:
(1 - 0.05)^10 = 0.599 (40% 손실!)

Half Kelly에서 10연패:
(1 - 0.025)^10 = 0.781 (22% 손실)

→ Half Kelly가 훨씬 안전
```

**3. 승률 과대평가 위험**
```
실제 승률 50%를 60%로 착각:

Kelly% = (2.0 × 0.60 - 0.40) / 2.0 = 40%
실제 Kelly% = (2.0 × 0.50 - 0.50) / 2.0 = 25%

→ 15% 과다 베팅 → 위험!
```

#### 📈 초보자용 간단 버전

**복잡한 계산 싫다면**:

```
경험 기반 룰:

승률 60% 이상, 손익비 2:1 이상:
→ 총 자본의 10-15% 투자

승률 50% 이상, 손익비 1.5:1 이상:
→ 총 자본의 5-10% 투자

승률 50% 미만:
→ 전략 개선 필요, 투자 자제

각 종목: 총 투자금의 20-30%
→ 3-5개 종목 분산
```

---

## 매도 전략 심화

### 트레일링 스탑 완벽 가이드

#### 📖 개념

트레일링 스탑은 **가격이 상승하면 손절가도 함께 올라가는** 동적 손절 전략입니다.

**비유**:
```
등산 중 안전 밧줄이 계속 당신을 따라 올라옴
→ 떨어져도 최소 피해
→ 계속 올라가면 계속 보호

주식도 마찬가지:
가격 상승 → 손절가 상승
가격 하락 → 손절가 고정
```

#### 🧮 계산 방법

**공식**:
```
손절가 = max(기존_손절가, 최고가 × (1 - 트레일링%))
```

**예시 계산**:

```
설정: 트레일링 3%

시간   현재가      최고가      손절가           설명
매수   85,000,000  85,000,000  82,450,000      85M × (1-0.03)
+1일  86,000,000  86,000,000  83,420,000      86M × (1-0.03) ↑
+2일  87,500,000  87,500,000  84,875,000      87.5M × (1-0.03) ↑
+3일  87,000,000  87,500,000  84,875,000      고정 (하락 시)
+4일  88,000,000  88,000,000  85,360,000      88M × (1-0.03) ↑
+5일  84,000,000  88,000,000  85,360,000      손절가 도달! 매도

결과:
- 진입: 85,000,000
- 청산: 85,360,000
- 수익: +360,000 (+0.42%)

만약 고정 손절 (-3%):
- 손절가: 82,450,000 (변동 없음)
- 청산: 84,000,000 (손절가 미도달)
- 손실: -1,000,000 (-1.18%)

트레일링 스탑의 이점:
- 고정 손절: -1.18% 손실
- 트레일링: +0.42% 수익
- 차이: +1.6%p
```

#### 🎯 실전 전략

**전략 1: 기본 트레일링**

```python
# 초기 설정
진입가 = 85,000,000
트레일링_비율 = 0.03  # 3%
최고가 = 진입가
손절가 = 진입가 * (1 - 트레일링_비율)

# 매 틱마다 업데이트
while True:
    현재가 = get_current_price()

    # 최고가 갱신
    if 현재가 > 최고가:
        최고가 = 현재가
        손절가 = 최고가 * (1 - 트레일링_비율)
        print(f"손절가 상승: {손절가:,.0f}")

    # 손절 체크
    if 현재가 <= 손절가:
        print(f"트레일링 스탑 발동! 매도: {현재가:,.0f}")
        break
```

**전략 2: 구간별 트레일링**

```python
# 수익에 따라 트레일링 비율 조정

if 수익률 < 5%:
    트레일링_비율 = 0.05  # 5% (여유)
    설명 = "초기 단계, 넓게 설정"

elif 5% <= 수익률 < 10%:
    트레일링_비율 = 0.03  # 3% (표준)
    설명 = "수익 보호 시작"

elif 수익률 >= 10%:
    트레일링_비율 = 0.02  # 2% (타이트)
    설명 = "큰 수익 확보, 타이트하게"
```

**전략 3: ATR 기반 트레일링**

```python
# 변동성 고려 동적 트레일링

ATR = calculate_ATR(14)  # 14일 ATR
트레일링_거리 = ATR * 2  # ATR의 2배

손절가 = max(기존_손절가, 최고가 - 트레일링_거리)

# 예시
최고가 = 88,000,000
ATR = 1,500,000
트레일링_거리 = 3,000,000
손절가 = 88,000,000 - 3,000,000 = 85,000,000

장점:
- 변동성 클 때: 손절가 멀게 → 거짓 청산 방지
- 변동성 작을 때: 손절가 가깝게 → 빠른 보호
```

**전략 4: 시간 기반 트레일링**

```python
# 보유 기간에 따라 조정

보유일수 = days_since_entry()

if 보유일수 < 3:
    트레일링_비율 = 0.05  # 여유 (초기 변동성)
elif 3 <= 보유일수 < 7:
    트레일링_비율 = 0.03  # 표준
elif 보유일수 >= 7:
    트레일링_비율 = 0.02  # 타이트 (충분히 보유)
```

#### ⚙️ 파라미터 최적화

**트레일링 비율 선택**:

| 비율 | 특징 | 적합한 시장 |
|------|------|------------|
| 1-2% | 매우 타이트 | 저변동성, 단타 |
| 2-3% | 타이트 | 표준, 스윙 |
| 3-5% | 표준 | 일반적 (권장) |
| 5-7% | 여유 | 고변동성, 중장기 |
| 7%+ | 매우 여유 | 장기 투자 |

**시장별 권장**:

```
BTC (변동성 보통):
- 단기: 2-3%
- 중기: 3-5%
- 장기: 5-7%

알트코인 (변동성 높음):
- 단기: 3-5%
- 중기: 5-7%
- 장기: 7-10%
```

#### 📈 실전 예시

**예시 1: 성공적인 상승 추종**

```
BTC 스윙 트레이딩 (트레일링 3%)

날짜    현재가      최고가      손절가      상태
1/1    85,000,000  85,000,000  82,450,000  매수
1/2    86,500,000  86,500,000  83,905,000  ↑
1/3    88,000,000  88,000,000  85,360,000  ↑
1/4    87,000,000  88,000,000  85,360,000  조정
1/5    89,500,000  89,500,000  86,815,000  ↑
1/6    91,000,000  91,000,000  88,270,000  ↑
1/7    90,000,000  91,000,000  88,270,000  조정
1/8    88,200,000  91,000,000  88,270,000  ← 매도!

결과:
- 진입: 85,000,000
- 청산: 88,270,000
- 수익: +3,270,000 (+3.85%)
- 최고점 대비: -2,730,000 (-3.00%) ← 딱 설정한 만큼

분석:
- 91M까지 상승 완전히 추종
- 3% 하락 시 자동 청산
- 감정 배제, 규칙 준수
```

**예시 2: 손실 최소화**

```
알트코인 트레이딩 (트레일링 5%)

날짜    현재가      최고가      손절가      상태
1/1    10,000,000  10,000,000  9,500,000   매수
1/2    10,500,000  10,500,000  9,975,000   ↑
1/3    10,200,000  10,500,000  9,975,000   조정
1/4    9,900,000   10,500,000  9,975,000   ← 매도!

결과:
- 진입: 10,000,000
- 청산: 9,975,000
- 손실: -25,000 (-0.25%)

만약 고정 손절 (-3%):
- 손절가: 9,700,000
- 아직 미도달
- 계속 하락 시 -3% 손실

트레일링의 이점:
- 일시적 상승 (+5%) 활용
- 손실 -0.25%로 최소화
- 고정 대비 -2.75%p 개선
```

#### ⚠️ 주의사항

**1. 급등락 시 오작동**
```
문제:
순간적 급락 (스파이크) → 손절가 터치 → 청산
→ 곧바로 회복 → 기회 상실

해결:
- 거래량 확인
- 1-2분 간격으로 업데이트 (1초 단위 X)
- 이상치 필터링
```

**2. 횡보장 약점**
```
문제:
박스권에서 조금 오르면 손절가 상승
→ 조금 내리면 청산
→ 반복

해결:
- 횡보장에서는 고정 손절 사용
- 추세 확인 후 트레일링 활성화
```

**3. 너무 타이트한 설정**
```
문제:
트레일링 1% → 정상 변동에도 청산

해결:
- 최소 2% 이상 설정
- ATR 기반 동적 설정
- 백테스트로 최적값 찾기
```

---

## 실전 적용 가이드

### 초보자 30일 마스터 플랜

#### 📅 Week 1: 기초 다지기

**Day 1-2: 시스템 설정**
```
✅ BTS 설치 및 실행
✅ 가상지갑 생성 (1000만원)
✅ Upbit 연결 확인
✅ 데이터 수집 테스트

실습:
1. 가상지갑 생성
2. KRW-BTC 시세 확인
3. 차트 보는 법 익히기
```

**Day 3-4: RSI 전략 학습**
```
✅ RSI 개념 이해
✅ 과매수/과매도 구분
✅ 백테스트 실행

실습:
1. RSI(14) 전략 생성
2. 최근 6개월 백테스트
3. 결과 분석 (승률, MDD)
```

**Day 5-7: 첫 모의거래**
```
✅ RSI < 30 매수 규칙
✅ RSI > 70 또는 +5% 익절
✅ -3% 손절

실습:
1. KRW-BTC 1종목만
2. 100만원만 투자
3. 거래 일지 작성
```

#### 📅 Week 2: 전략 확장

**Day 8-10: MA Cross 학습**
```
✅ 이동평균 개념
✅ 골든/데드 크로스
✅ 백테스트 비교

실습:
1. MA(20,60) 전략 생성
2. RSI vs MA 성과 비교
3. 나에게 맞는 전략 선택
```

**Day 11-13: 종목선정 추가**
```
✅ 모멘텀 스크리닝 이해
✅ 상위 5개 종목 선정
✅ 포트폴리오 구성

실습:
1. KRW 시장 스크리닝
2. 상위 3개 선택
3. 균등 배분 (각 300만원)
```

**Day 14: Week 1-2 총정리**
```
✅ 수익률 확인
✅ 실수 분석
✅ 전략 개선

체크리스트:
□ 승률이 40% 이상인가?
□ 손익비가 1.5:1 이상인가?
□ 감정적 거래를 하지 않았는가?
□ 손절을 잘 지켰는가?
```

#### 📅 Week 3: 고급 기술

**Day 15-17: 볼린저 밴드**
```
✅ 볼린저 밴드 이해
✅ 스퀴즈 패턴 포착
✅ RSI + BB 조합

실습:
1. BB(20,2) 전략 생성
2. 하단 터치 매수 테스트
3. 복합 전략 백테스트
```

**Day 18-20: MACD 활용**
```
✅ MACD 계산 원리
✅ 골든 크로스 신호
✅ 다이버전스 포착

실습:
1. MACD 전략 생성
2. 4가지 전략 성과 비교
3. Best 2개 선택
```

**Day 21: 중간 점검**
```
✅ 21일 총 수익률
✅ 최고/최악 거래 분석
✅ 전략 포트폴리오 확정

목표:
- 승률 50% 이상
- 손익비 2:1 이상
- MDD 10% 이하
```

#### 📅 Week 4: 실전 준비

**Day 22-24: 포트폴리오 최적화**
```
✅ 켈리 기준 적용
✅ 리스크 패리티 테스트
✅ 최적 배분 찾기

실습:
1. 백테스트로 승률/손익비 계산
2. Half Kelly 배분 적용
3. 5종목 포트폴리오 구성
```

**Day 25-27: 매도 전략 완성**
```
✅ 트레일링 스탑 적용
✅ 단계별 익절 테스트
✅ 최적 손절가 설정

실습:
1. 3% 트레일링 스탑 설정
2. (5%, 10%, 20%) 단계별 익절
3. 실제 적용 테스트
```

**Day 28-30: 실전 시뮬레이션**
```
✅ 완성된 시스템 테스트
✅ 실시간 운영 연습
✅ 문제 상황 대응

최종 시스템 예시:
1. 스크리닝: 모멘텀 Top 5
2. 매수: RSI < 30 or MACD 골든크로스
3. 포트폴리오: Half Kelly, 5종목
4. 매도: 트레일링 3% or +10% 익절
```

#### 🎯 성공 체크리스트

**기술적 준비**:
```
□ RSI, MA, MACD, BB 모두 이해
□ 백테스팅 능숙하게 실행
□ 각 지표의 한계 인지
□ 복합 전략 구성 가능
```

**심리적 준비**:
```
□ 손절을 기계적으로 실행
□ 익절 욕심 조절
□ FOMO (Fear Of Missing Out) 극복
□ 감정 일지 작성
```

**리스크 관리**:
```
□ 1% 룰 준수 (한 종목 손실 < 1%)
□ 5% 룰 준수 (일일 총 손실 < 5%)
□ 20-30% 현금 보유
□ 과도한 레버리지 금지
```

**실전 이행 기준**:
```
✅ 모의투자 30일 동안:
   - 총 수익률 > 0%
   - 승률 > 45%
   - 손익비 > 1.5
   - MDD < 15%

✅ 심리적:
   - 손절 100% 이행
   - 계획된 거래만 실행
   - 감정 조절 성공

위 조건 모두 충족 시 → 실거래 전환 고려
초기 투자금: 모의투자의 10-20%
```

---

## 부록

### 용어 사전

**OHLCV**:
- Open (시가): 시작 가격
- High (고가): 최고 가격
- Low (저가): 최저 가격
- Close (종가): 마감 가격
- Volume (거래량): 거래된 수량

**EMA**:
- Exponential Moving Average
- 지수 이동평균
- 최근 데이터에 더 높은 가중치

**ATR**:
- Average True Range
- 평균 진폭
- 변동성 측정 지표

**MDD**:
- Maximum Drawdown
- 최대 손실폭
- 고점 대비 최대 하락률

**샤프 비율**:
- (수익률 - 무위험수익률) / 변동성
- 위험 대비 수익 효율
- 높을수록 좋음

---

**이 가이드를 마스터하면 여러분은 프로페셔널 트레이더의 기초를 갖추게 됩니다!**

**기억하세요**:
1. 지식 < 실천
2. 욕심 < 규율
3. 감정 < 시스템

**행운을 빕니다!** 🚀
